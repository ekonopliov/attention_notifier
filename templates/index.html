<html>
    <style>
        body {
            background-color: #ffb3ff;
        }
    </style>
    <body>
        <div align="center">
            <input type="button" id="btnMain" onclick="test(this);" value="Push, when you need my attention"
            style="width:95%;
            height:200px;
            font-size:60px;
            font-family:cursive;
            font-weight: bold;
            margin-left:auto;
            margin-right:auto;
            display:block;
            margin-top:30%;
            margin-bottom:0%;"/>
            </div>
        
        <div align="center" style="
            font-size:40px;
            font-family:cursive;">
            Created for my beautiful Pati &#128156;
        </div>
        <script type="text/javascript" >
            var webSocket;
            
            webSocket = new WebSocket('ws://'+window.location.hostname + ':80/subscribe');
            
            webSocket.onmessage = function(event) { onMessage(event); }
            
            function test(btn){
            webSocket.send("1");
            disableButton(btn);
            }
            
            function onMessage(event){
            console.log(event.data);
            }
        
            function disableButton(btn){
            document.getElementById(btn.id).disabled = true;
            alert("Attention notification has been sent!");
            setTimeout(function(){document.getElementById(btn.id).disabled = false;},10000); //10s delay
            }
        
            </script>
</body>
</html>

